import{_ as q,u as E,r as f,a as R,c as B,b as e,w as r,d as t,o as C,e as _,f as d,g,h as F,E as c,i as N,l as w,m as S}from"./index-C_AB8DFW.js";const h={class:"register-container"},I={class:"register-options"},M={__name:"index",setup(T){const V=F(),x=E(),p=f(null),i=f(!1),o=R({username:"",password:"",confirmPassword:"",email:""}),v={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(m,s,l)=>{s!==o.password?l(new Error("两次输入密码不一致")):l()},trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},b=()=>{p.value.validate(m=>{if(m){i.value=!0;try{x.register({username:o.username,password:o.password,email:o.email,role:"user"})?(c.success("注册成功"),V.push("/login")):c.error("用户名已存在")}finally{i.value=!1}}})};return(m,s)=>{const l=t("el-icon"),n=t("el-input"),u=t("el-form-item"),y=t("el-button"),k=t("router-link"),P=t("el-form"),U=t("el-card");return C(),B("div",h,[e(U,{class:"register-card"},{default:r(()=>[s[6]||(s[6]=_("h2",null,"用户注册",-1)),e(P,{model:o,rules:v,ref_key:"registerFormRef",ref:p},{default:r(()=>[e(u,{prop:"username"},{default:r(()=>[e(n,{modelValue:o.username,"onUpdate:modelValue":s[0]||(s[0]=a=>o.username=a),placeholder:"用户名"},{prefix:r(()=>[e(l,null,{default:r(()=>[e(d(N))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(u,{prop:"password"},{default:r(()=>[e(n,{modelValue:o.password,"onUpdate:modelValue":s[1]||(s[1]=a=>o.password=a),type:"password",placeholder:"密码","show-password":""},{prefix:r(()=>[e(l,null,{default:r(()=>[e(d(w))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(u,{prop:"confirmPassword"},{default:r(()=>[e(n,{modelValue:o.confirmPassword,"onUpdate:modelValue":s[2]||(s[2]=a=>o.confirmPassword=a),type:"password",placeholder:"确认密码","show-password":""},{prefix:r(()=>[e(l,null,{default:r(()=>[e(d(w))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(u,{prop:"email"},{default:r(()=>[e(n,{modelValue:o.email,"onUpdate:modelValue":s[3]||(s[3]=a=>o.email=a),placeholder:"邮箱"},{prefix:r(()=>[e(l,null,{default:r(()=>[e(d(S))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(u,null,{default:r(()=>[e(y,{type:"primary",style:{width:"100%"},onClick:b,loading:i.value},{default:r(()=>s[4]||(s[4]=[g(" 注册 ")])),_:1},8,["loading"])]),_:1}),e(u,null,{default:r(()=>[_("div",I,[e(k,{to:"/login"},{default:r(()=>s[5]||(s[5]=[g("已有账号？去登录")])),_:1})])]),_:1})]),_:1},8,["model"])]),_:1})])}}},z=q(M,[["__scopeId","data-v-de6e9113"]]);export{z as default};
