import{_ as B,u as C,r as _,a as E,c as F,b as e,w as o,d as r,o as N,e as p,f as c,g as f,h as R,E as g,i as U,l as q}from"./index-C_AB8DFW.js";const S={class:"login-container"},I={class:"login-options"},L={__name:"index",setup(M){const w=R(),v=C(),u=_(null),a=_(!1),l=E({username:"",password:""}),x={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}]},V=()=>{u.value.validate(d=>{if(d){a.value=!0;try{v.login(l.username,l.password)?(g.success("登录成功"),w.push("/dashboard")):g.error("用户名或密码错误")}finally{a.value=!1}}})};return(d,s)=>{const i=r("el-icon"),m=r("el-input"),t=r("el-form-item"),b=r("el-button"),k=r("router-link"),y=r("el-form"),h=r("el-card");return N(),F("div",S,[e(h,{class:"login-card"},{default:o(()=>[s[4]||(s[4]=p("h2",null,"电子书店管理系统",-1)),e(y,{model:l,rules:x,ref_key:"loginFormRef",ref:u},{default:o(()=>[e(t,{prop:"username"},{default:o(()=>[e(m,{modelValue:l.username,"onUpdate:modelValue":s[0]||(s[0]=n=>l.username=n),placeholder:"用户名"},{prefix:o(()=>[e(i,null,{default:o(()=>[e(c(U))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(t,{prop:"password"},{default:o(()=>[e(m,{modelValue:l.password,"onUpdate:modelValue":s[1]||(s[1]=n=>l.password=n),type:"password",placeholder:"密码","show-password":""},{prefix:o(()=>[e(i,null,{default:o(()=>[e(c(q))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(t,null,{default:o(()=>[e(b,{type:"primary",style:{width:"100%"},onClick:V,loading:a.value},{default:o(()=>s[2]||(s[2]=[f(" 登录 ")])),_:1},8,["loading"])]),_:1}),e(t,null,{default:o(()=>[p("div",I,[e(k,{to:"/register"},{default:o(()=>s[3]||(s[3]=[f("注册账号")])),_:1})])]),_:1})]),_:1},8,["model"])]),_:1})])}}},j=B(L,[["__scopeId","data-v-d487e146"]]);export{j as default};
